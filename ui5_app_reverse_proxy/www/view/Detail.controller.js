linklaters.com.customexpensesapp.util.Controller.extend("linklaters.com.customexpensesapp.view.Detail", {	onInit : function() {		detailController = this;		if (sap.ui.Device.system.phone) {		    		} else {			this.getView().setBusy(true);		}		this.getRouter().getRoute("expenseDetail").attachMatched(this.onRouteMatched, this);},onRouteMatched: function(oEvent) {	var oParameters = oEvent.getParameters();		var oView = this.getView();		this.employeeNumber = oParameters.arguments.employeeNumber;		this.expenseYear = oParameters.arguments.expenseYear;		this.expenseMonth = oParameters.arguments.expenseMonth;		var sExpensePath = "/MyExpenseSet(ExpenseYear='" + this.expenseYear + "',ExpenseMonth='" +			this.expenseMonth + "')";		this.bindView(sExpensePath);		// Which tab?		var sTabKey = oParameters.arguments.tab || "expenseItems";		masterController.sTab = sTabKey;		var oIconTabBar = oView.byId("idIconTabBar");		if (oIconTabBar.getSelectedKey() !== sTabKey) {			oIconTabBar.setSelectedKey(sTabKey);		}},bindView: function(sProductPath) {		var oView = this.getView();		oView.bindElement(sProductPath);		/*, {			expand: "ExpenseItemSet"		}*/},	onTableUpdateFinished: function(oEvent) {		this.getView().setBusy(false);	},	onNavBack : function() {		// This is only relevant when running on phone devices		sap.ui.core.UIComponent.getRouterFor(this).myNavBack("main");},onAddExpenseItem: function(oEvent) {		this.initializeEmployeeData();		this.getRouter().myNavToWithoutHash({			currentView: this.getView(),			targetViewName: "linklaters.com.customexpensesapp.view.AddExpenseItem",			targetViewType: "XML",			transition: "slide"		});			},initializeEmployeeData: function() {		var oEmpData = this.getView().getModel().getData("/MyExpenseSet(ExpenseYear='" + this.expenseYear +			"',ExpenseMonth='" + this.expenseMonth + "')");		var oEmpModel = new sap.ui.model.json.JSONModel(oEmpData);		sap.ui.getCore().setModel(oEmpModel, "employeeModel");	},onSubmitExpenseRequest: function(oEvent) {		var oDate = new Date();				var sExpYear = this.expenseYear;		var sExpMonth = this.expenseMonth;				var oPayload = {			"EmployeeNumber": "",			"ExpenseYear": sExpYear,			"ExpenseMonth": sExpMonth,						"Currency": "GBP",			"LastModified": "\\/Date(" + oDate.getTime() + ")\\/",			"Status": "Submitted"		};		this.getView().getModel().create("/MyExpenseSet", oPayload, {			success: function(oResponse) {				sap.m.MessageToast.show("Successfully Submitted Expenses.", {    			duration: 2000				});			},			error: function(oError) {				sap.m.MessageToast.show("An Error Occurred", {    			duration: 2000				});			}		});	}})